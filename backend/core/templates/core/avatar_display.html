{% load static %}

<!-- Avatar Display Component -->
<div class="avatar-display" style="text-align: center;">
    {% if user.avatar and avatar_image %}
        <div style="display: inline-block; border-radius: 50%; overflow: hidden; border: 3px solid #dee2e6;">
            <img src="data:image/png;base64,{{ avatar_image }}" alt="Your Avatar" style="width: 200px; height: 200px; display: block;">
        </div>
        <div class="mt-2">
            <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#avatarBuilderModal">
                <i class="bi bi-palette"></i> Edit Avatar
            </button>
        </div>
    {% elif user.avatar %}
        <div data-avatar="{{ avatar_json }}" style="display: inline-block; border-radius: 50%; overflow: hidden; border: 3px solid #dee2e6;">
            <svg id="avatarPreviewStatic" width="200" height="200" style="background: #f8f9fa;"></svg>
        </div>
        <div class="mt-2">
            <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#avatarBuilderModal">
                <i class="bi bi-palette"></i> Edit Avatar
            </button>
        </div>
    {% else %}
        <div style="width: 150px; height: 150px; margin: 0 auto; background: #f0f0f0; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 2px dashed #999;">
            <span style="color: #999; text-align: center;">
                <div style="font-size: 48px;">ğŸ‘¤</div>
                <small>No Avatar</small>
            </span>
        </div>
        <div class="mt-2">
            <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#avatarBuilderModal">
                <i class="bi bi-palette"></i> Create Avatar
            </button>
        </div>
    {% endif %}
</div>